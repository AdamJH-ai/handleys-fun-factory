{# templates/_gty_turn_results.html #}
{# Expects: question_text, correct_year, image_url, results #}
<div id="gty-results">

    <h2>Results!</h2>
    <h3>{{ question_text }}</h3>

    {% if image_url %}
        {# --- THIS IS THE SAME FIX --- #}
        {% if image_url.startswith('http') %}
            <img class="question-image" src="{{ image_url }}" alt="Question Image" style="max-height: 150px; margin-bottom: 20px; border-radius: 6px;">
        {% else %}
            <img class="question-image" src="{{ url_for('static', filename=image_url) }}" alt="Question Image" style="max-height: 150px; margin-bottom: 20px; border-radius: 6px;">
        {% endif %}
    {% endif %}

    <h3>The correct year was: <span style="color: var(--accent-gold);">{{ correct_year if correct_year is not none else '--' }}</span></h3>
    
    <ul class="round-results-list">
        {% for res in results %}
            <li class="{{ 'highlight' if res.diff == 0 }}">
                <span class="player-name">{{ res.name }}</span>
                <span class="player-answer">Guess: {{ res.guess }} (Off by {{ res.diff }})</span>
                <span class="player-points">Total Diff: {{ res.round_score }}</span>
            </li>
        {% endfor %}
    </ul>

</div>